
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
    <meta name="author" content=""/>
	 
    <title>Franklin's 13+  Reset Password -> Based on Ben Franklin's 13 Virtues</title> 

    <link rel="shortcut icon" href="../images/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="css/messages.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="css/buttons.css" type="text/css" media="screen" />
	
    <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" />
		
</head>
<body>


	<div class="topbar">
		
		<div class="topcontent">
			<a href="register.html" class="openings">18 Openings Left,  + Join</a>
			<a href="login.html" class="login">Login</a>
		</div>
		
	</div>

	<div class="content resetContainer">
		
		<div class="header">
			<a href="" class="logo large"></a>
				
			<nav class="menu">
				<a href="welcome.html" class="" title="Franklins 13+ : Welcome to Franklin's 13+ App">Welcome</a>
				<a href="experiment.html" class="" title="Franklins 13+ : The Experiment Explained">The Experiment</a>
				<a href="virtues.html" class="" title="Franklins 13+ : Ben Franklin's 13 Virtues/Principals Defined">The Virtues</a>
			</nav>
		</div>
		
		
		<h1>Reset Password</h1>
		
		<div class="resetWrapper notes">

				
			<div class="resetForm">
				<p class="large inactive">
					<em class="highight">Step One : Enter Email</em><br/>
				</p>
				<p class="large inactive">
					<em>Step Two : Verify Email</em><br/>
					<span class="small">An email will be sent to this address with instructions on how to continue reset process</span>
				</p>
				<p class="large ">
					<em>Step Three : Reset Password</em><br/>
					
					<form id="resetPasswordForm" name="resetPasswordForm" action="resetPassword" method="post" >

						<div id="validationSummary"></div>

						<p>
		               		<label for="passwordHash">New Password</label>
		               		<input type="password" name="passwordHash" id="passwordHash" value="" >
		               	</p>
						<p>
			            	<label for="confirmPassword">Confirm Password</label>
			            	<input type="password" name="confirmPassword" id="confirmPassword" value="" >
			            </p>
						<input type="hidden" value="${username}" name="username"/>
						
						<div class="buttons">
							<a href="#" class="button blue small" id="reset">Reset Password</a>
						</div>
						
		            </form>
		
				</p>
					
			</div>

			
		</div>
		
		<br class="clear"/>
		
	</div>
	
	
	<div class="notes" style="width:500px; margin:20px auto;">
		<a href="logentry.html">log entry</a>&nbsp;|&nbsp;
		<a href="dashboard.html">dashboard</a>&nbsp;|&nbsp;
		<a href="account.html">account</a>&nbsp;|&nbsp;
		<a href="welcome.html" class="" title="Franklins 13+ : Welcome to Franklin's 13+ App">Welcome</a>&nbsp;|&nbsp;
		<a href="experiment.html" class="" title="Franklins 13+ : The Experiment Explained">The Experiment</a>&nbsp;|&nbsp;
		<a href="virtues.html" class="active" title="Franklins 13+ : Ben Franklin's 13 Virtues/Principals Defined">The Virtues</a>
	</div>



	<script type="text/javascript" src="../web-app/js/lib/jquery/jquery-1.6.1.min.js"></script>
	<script type="text/javascript" src="../web-app/js/lib/jquery/jquery.qtip.min.js"></script>
	<script type="text/javascript" src="../web-app/js/lib/jquery/jquery-ui-1.8.16.custom.min.js"></script>
	<script type="text/javascript" src="../web-app/js/lib/jquery/jquery-validation.min.js"></script>

<script type="text/javascript">



	// this one requires the value to be the same as the first parameter
	$.validator.methods.equal = function(value, element, param) {
		return value == param;
	};
	$.validator.methods.confirm = function(value, element){
		return ($('#passwordHash').val() === value)
	};



	var processing = false;
	$(document).ready(function(){

		
		$("#resetPasswordForm").validate({
			debug: true,
			errorElement: "em",
			errorContainer: $("#validationSummary"),
			errorPlacement: function(error, element) {
				error.appendTo( element.parent() );
			},
			success: function(label) {
				label.text("ok!").addClass("valid");
			},
			rules: {
				passwordHash : {
					minlength : 5,
					required : true,
				},
				confirmPassword : {
					required : true,
					minlength : 5,
					confirm : true
				}
			},
			messages : {
				passwordHash : 'password must be at least 5 characters',
				confirmPassword : 'your passwords must match'
			}

		});


		$('#reset').click(function(e){
			e.preventDefault();
			if($('#resetPasswordForm').valid()){	
				console.log('valid form');					
				document.resetPasswordForm.submit();					
			}
		});


	});

</script>

    </body>
</html>
