
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
    <meta name="author" content=""/>
 
    <link rel="stylesheet" href="bootstrap/css/bootstrap.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="bootstrap/css/bootstrap-mods.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="bootstrap/css/bootstrap-responsive-mods.css" type="text/css" media="screen" />
	<link rel="stylesheet" href="css/franklins13.css" type="text/css" media="screen" />

    <link rel="stylesheet" href="../web-app/css/jquery.qtip.min.css" />

	<style type="text/css">
		.lead-small.active{

		}
		.lead-small.inactive{
			color:#999;
		}
	</style>
</head>
<body>


<div class="container">

	<div class="row">
		<div class="span1 visible-desktop">&nbsp;</div>
		<div class="span5 show-border">&nbsp;</div>
		<div class="span5 align-right">
			<span class="">Welcome back Mike</span>
			<a href="login.html" class="label label-warning">Logout</a>
		</div>
		<div class="span1 visible-desktop">&nbsp;</div>
	</div>


	<div class="row">

		<div class="span1 visible-desktop">&nbsp;</div>		
		<div class="span4">
			<div class="userstats">
				<p class="lead-small">
					Total Score <em class="scoreWrapper"><code class="score">12312</code></em> 

					Rank <em class="rankWrapper"><code class="rank">2</code></em> of 55
				</p>		
			</div>
		</div>

		<div class="span6">
			<div class="usernav pull-right">
				<ul class="nav nav-pills">
					<li><a href="account.html">Account</a></li>
					<li class=""><a href="logentry.html">Log Entry</a></li>
					<li><a href="calendar.html">Calendar</a></li>
					<li><a href="history.html">History</a></li>
					<li class="active"><a href="dashboard.html">Dashboard</a></li>
				</ul>
			</div>
		</div>

		<div class="span1 visible-desktop">&nbsp;</div>
	</div>



	<div class="row">
		<div class="span1 visible-desktop">&nbsp;</div>

		<div class="span10">

			<div class="form-well">

				<p class="lead-small inactive">
					Step One : Enter Email<br/>
				</p>
				<p class="lead-small inactive">
					Step Two : Verify Email<br/>
				</p>
				<p class="lead-small active">
					Step Three : Reset Password<br/>
					
					<form id="resetPasswordForm" name="resetPasswordForm" action="resetPassword" method="post"  class="">
						<div id="validationSummary"></div>
						<p>
		               		<label for="passwordHash">New Password</label>
		               		<input type="password" name="passwordHash" id="passwordHash" value="" >
		               	</p>
						<p>
			            	<label for="confirmPassword">Confirm Password</label>
			            	<input type="password" name="confirmPassword" id="confirmPassword" value="" >
			            </p>
						<input type="hidden" value="${username}" name="username"/>
						
						<div class="buttons">
							<a href="#" class="btn" id="reset">Reset Password</a>
						</div>
						
		            </form>
				</p>


			</div>


		</div>

		<div class="span1 visible-desktop">&nbsp;</div>
	</div>


	<div class="row">
	 	<div class="span1 visible-desktop">&nbsp;</div>
		<div class="span10 page-header">
		</div>
		<div class="span1 visible-desktop">&nbsp;</div>
	</div>


	<div class="row">
	 	<div class="span1 visible-desktop">&nbsp;</div>
		<div class="span10 footer">
			<p class="pull-right">
				<a href="welcome.html" class="" title="Franklins 13+ : Welcome to Franklin's 13+ App">Welcome</a>
				<a href="experiment.html" class="" title="Franklins 13+ : The Experiment Explained">The Experiment</a>
				<a href="virtues.html" class="active" title="Franklins 13+ : Ben Franklin's 13 Virtues/Principals Defined">The Virtues</a>
				<a href="privacy.html" class="active" title="Franklins 13+ : Privacy Policy">Privacy Policy</a>
			</p>
			<p>&copy;2012 - powered by grails</p>
		</div>
		<div class="span1 visible-desktop">&nbsp;</div>
	</div>


</div>

<script type="text/javascript" src="../web-app/js/lib/jquery/jquery-1.6.1.min.js"></script>
<script type="text/javascript" src="../web-app/js/lib/jquery/jquery.qtip.min.js"></script>
<script type="text/javascript" src="../web-app/js/lib/jquery/jquery-ui-1.8.16.custom.min.js"></script>
<script type="text/javascript" src="../web-app/js/lib/jquery/jquery-validation.min.js"></script>

<script type="text/javascript">



	// this one requires the value to be the same as the first parameter
	$.validator.methods.equal = function(value, element, param) {
		return value == param;
	};
	$.validator.methods.confirm = function(value, element){
		return ($('#passwordHash').val() === value)
	};



	var processing = false;
	$(document).ready(function(){

		
		$("#resetPasswordForm").validate({
			debug: true,
			errorElement: "em",
			errorContainer: $("#validationSummary"),
			errorPlacement: function(error, element) {
				error.appendTo( element.parent() );
			},
			success: function(label) {
				label.text("ok!").addClass("valid");
			},
			rules: {
				passwordHash : {
					minlength : 5,
					required : true,
				},
				confirmPassword : {
					required : true,
					minlength : 5,
					confirm : true
				}
			},
			messages : {
				passwordHash : 'password must be at least 5 characters',
				confirmPassword : 'your passwords must match'
			}

		});


		$('#reset').click(function(e){
			e.preventDefault();
			if($('#resetPasswordForm').valid()){	
				console.log('valid form');					
				document.resetPasswordForm.submit();					
			}
		});


	});

</script>

    </body>
</html>
